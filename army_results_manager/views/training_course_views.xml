<odoo>
    <record id="view_training_course_tree" model="ir.ui.view">
        <field name="name">training.course.tree</field>
        <field name="model">training.course</field>
        <field name="arch" type="xml">
            <tree create="0" delete="0">
                <field name="subject_line_id"/>
                <field name="plan_id" string="Khóa huấn luyện"/>
            </tree>
        </field>
    </record>

    <record id="view_training_course_form" model="ir.ui.view">
        <field name="name">training.course.form</field>
        <field name="model">training.course</field>
        <field name="arch" type="xml">
            <form string="Khóa huấn luyện">

                <!-- HEADER BUTTONS -->
                <header>
                    <button name="action_open_students"
                            type="object"
                            class="oe_stat_button"
                            icon="fa-users"
                            string="Học viên"
                            attrs="{'invisible': [('student_count', '=', 0)]}">
                        <field name="student_count" widget="statinfo" string="Học viên"/>
                    </button>

                    <button name="action_open_result_training"
                            type="object"
                            class="oe_stat_button"
                            icon="fa-list-alt"
                            string="Kết quả huấn luyện"
                            attrs="{'invisible': ['|',('state', '=', 'draft'), ('student_count', '=', 0)]}"/>
                </header>

                <sheet>
                    <!-- Ẩn field state -->
                    <field name="state" invisible="1"/>

                    <!-- CHIA 2 CỘT -->
                    <group col="2" class="mt16">
                        <group>
                            <field name="subject_line_id" readonly="1" options="{'no_open': True}"/>
                            <field name="type" attrs="{'readonly': [('state', '=', 'approved')]}"/>
                            <field name="participants_ids" widget="many2many_tags"
                                   attrs="{'readonly': [('state', '=', 'approved')]}"/>
                            <field name="student_ids" widget="many2many_tags" options="{'no_create': True}"
                                   attrs="{'readonly': [('state', '=', 'approved')]}"/>
                            <field name="training_officer_ids" widget="many2many_tags" options="{'no_create': True}"
                                   attrs="{'readonly': [('state', '=', 'approved')]}"/>
                            <field name="participant_category_id" attrs="{'readonly': [('state', '=', 'approved')]}"/>
                        </group>

                        <group>
                            <field name="responsible_level_id" attrs="{'readonly': [('state', '=', 'approved')]}"/>
                            <field name="measure" attrs="{'readonly': [('state', '=', 'approved')]}"/>
                            <field name="total_hours"/>
                            <field name="approver_id" readonly="1" options="{'no_open': True}"/>
                        </group>
                    </group>

                    <!-- NOTEBOOK -->
                    <notebook>
                        <page string="Danh sách các bài huấn luyện">
                            <field name="mission_ids" attrs="{'readonly': [('state', '=', 'approved')]}">
                                <tree editable="bottom" string="Các bài huấn luyện">
                                    <field name="lesson_id"/>
                                    <field name="total_hours"/>
                                    <button name="action_detail"
                                            type="object"
                                            class="oe_stat_button"
                                            icon="fa-eye"
                                            title="Chi tiết"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>

            </form>
        </field>
    </record>

</odoo>