<odoo>
    <data noupdate="0">

        <!-- Root Menu -->
        <menuitem id="menu_military_root" name="Quản lý huấn luyện bộ đội"
                  web_icon="army_results_manager,static/src/img/icon.png"/>

        <record id="action_media_library" model="ir.actions.act_window">
            <field name="name">Hình ảnh, video</field>
            <field name="res_model">media.library</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem id="base.menu_administration"
                  groups="army_results_manager.group_data_entry_officer,base.group_no_one"
                  name="Cài đặt"
                  web_icon="army_results_manager,static/src/img/setting.png"/>

        <record id="base.menu_management" model="ir.ui.menu">
            <field name="groups_id" eval="[(6, 0, [ref('base.group_no_one')])]"/>
        </record>

        <record id="mail.menu_root_discuss" model="ir.ui.menu">
            <field name="groups_id" eval="[(6, 0, [ref('base.group_no_one')])]"/>
        </record>

        <record id="hr.menu_hr_root" model="ir.ui.menu">
            <field name="groups_id" eval="[(6, 0, [ref('base.group_no_one')])]"/>
        </record>

        <record id="base.menu_action_res_company_form" model="ir.ui.menu">
            <field name="groups_id" eval="[(6, 0, [ref('base.group_no_one')])]"/>
        </record>

        <!-- Actions -->
        <record id="action_training_schedule" model="ir.actions.act_window">
            <field name="name">Xây dựng Kế hoạch</field>
            <field name="res_model">training.schedule</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'group_by': ['plan_type']}</field>
        </record>

        <record id="action_training_schedule_posted" model="ir.actions.act_window">
            <field name="name">Kế hoạch chờ duyệt</field>
            <field name="res_model">training.schedule</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'group_by': ['plan_type']}</field>
            <field name="domain">[('state', 'in', ['posted', 'to_modify'])]</field>
        </record>

        <record id="action_training_schedule_approved" model="ir.actions.act_window">
            <field name="name">Kế hoạch đã duyệt</field>
            <field name="res_model">training.schedule</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'group_by': ['plan_type'], 'create': False}</field>
            <field name="domain">[('state', '=', 'approved')]</field>
        </record>

        <record id="action_training_subject_common" model="ir.actions.act_window">
            <field name="name">Môn học (HL chung)</field>
            <field name="res_model">training.subject</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type_training', '=', 'common_training')]</field>
            <field name="context">{'default_type_training': 'common_training'}</field>
        </record>

        <record id="action_training_subject_private" model="ir.actions.act_window">
            <field name="name">Môn học (HL riêng)</field>
            <field name="res_model">training.subject</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type_training', '=', 'private_training')]</field>
            <field name="context">{'default_type_training': 'private_training'}</field>
        </record>

        <record id="action_training_stage" model="ir.actions.act_window">
            <field name="name">Giai đoạn</field>
            <field name="res_model">training.stage</field>
            <field name="view_mode">tree,form</field>
        </record>

        <record id="action_view_support_contact" model="ir.actions.act_window">
            <field name="name">Trợ giúp trực tuyến</field>
            <field name="res_model">support.contact</field>
            <field name="view_mode">tree,form</field>
        </record>

        <record id="action_training_category" model="ir.actions.act_window">
            <field name="name">Thành phần tham gia/Cấp phụ trách</field>
            <field name="res_model">training.category</field>
            <field name="view_mode">tree,form</field>
        </record>

        <record id="action_training_mission_result" model="ir.actions.act_window">
            <field name="name">Kết quả khóa huấn luyện</field>
            <field name="res_model">training.result</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('plan_name', '!=', False)]</field>
            <field name="context">{'group_by': ['plan_name', 'training_course_id'], 'default_action': 'print_score' }
            </field>
        </record>

        <record id="action_training_day_comment" model="ir.actions.act_window">
            <field name="name">Kết quả giai đoạn</field>
            <field name="res_model">training.day.comment</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'group_by': ['plan_name', 'lesson_name', 'day_date', 'student_id']}
            </field>
        </record>

        <record id="action_training_mission" model="ir.actions.act_window">
            <field name="name">Nhiệm vụ huấn luyện</field>
            <field name="res_model">training.mission</field>
            <field name="view_mode">tree,form</field>
        </record>

        <record id="action_commanding_officer" model="ir.actions.act_window">
            <field name="name">Cán bộ chỉ huy</field>
            <field name="res_model">hr.employee</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('role', '=', 'commanding_officer')]</field>
            <field name="context">{'default_role': 'commanding_officer'}</field>
        </record>

        <record id="action_training_officer" model="ir.actions.act_window">
            <field name="name">Cán bộ phụ trách huấn luyện</field>
            <field name="res_model">hr.employee</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('role', '=', 'training_officer')]</field>
            <field name="context">{'default_role': 'training_officer'}</field>
        </record>

        <record id="action_student" model="ir.actions.act_window">
            <field name="name">Học viên</field>
            <field name="res_model">hr.employee</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('role', '=', 'student')]</field>
            <field name="context">{'default_role': 'student'}</field>
        </record>

        <record id="action_open_students_safe" model="ir.actions.server">
            <field name="name">Học viên</field>
            <field name="model_id" ref="hr.model_hr_employee"/>
        </record>

        <record id="action_training_plan_draft" model="ir.actions.act_window">
            <field name="name">Khóa huấn luyện</field>
            <field name="res_model">training.plan</field>
            <field name="view_mode">tree,form,gantt,calendar</field>
        </record>

        <record id="action_training_day_posted" model="ir.actions.act_window">
            <field name="name">Duyệt theo tuần</field>
            <field name="res_model">training.day</field>
            <field name="view_mode">tree,form,gantt</field>
            <field name="domain">[('state', 'in', ['posted'])]</field>
            <field name="context">{'default_action': 'draft', 'showButtonDocument': true, 'group_by': ['year',
                'month_name',
                'week_name']}}
            </field>
        </record>

        <record id="action_training_day_approved" model="ir.actions.act_window">
            <field name="name">Khóa huấn luyện đã duyệt</field>
            <field name="res_model">training.day</field>
            <field name="view_mode">tree,form,gantt</field>
            <field name="domain">[('state', 'in', ['approved'])]</field>
            <field name="context">{'default_action': 'approved', 'showButtonDocument': true, 'group_by': ['year',
                'month_name',
                'week_name']}}}
            </field>
        </record>


        <record id="action_view_camera_device" model="ir.actions.act_window">
            <field name="name">Danh mục camera</field>
            <field name="res_model">camera.device</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'hide_button': true}</field>
        </record>

        <record id="action_view_training_location" model="ir.actions.act_window">
            <field name="name">Vị trí huấn luyện</field>
            <field name="res_model">training.location</field>
            <field name="view_mode">tree,form</field>
        </record>

        <record id="action_view_report" model="ir.actions.act_window">
            <field name="name">Báo cáo</field>
            <field name="res_model">training.day</field>
            <field name="view_mode">tree,form,gantt</field>
            <field name="view_id" ref="view_training_day_tree_report"/>
            <field name="domain">[('state', '=', 'approved')]</field>
            <field name="context">{
                'default_action': 'report',
                'showDocument':true,
                'group_by': ['year', 'month_name', 'week_name', 'day_name']}
            </field>
        </record>

        <record id="hr_department_kanban_action_inherit" model="ir.actions.act_window">
            <field name="name">Đơn vị</field>
            <field name="res_model">hr.department</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="hr.view_department_filter"/>
        </record>

        <record id="action_training_plan_tree" model="ir.actions.act_window">
            <field name="name">Khóa huấn luyện</field>
            <field name="res_model">training.plan</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_training_plan_tree"/>
        </record>

        <record id="action_dashboard" model="ir.actions.client">
            <field name="name">Dashboard</field>
            <field name="tag">army_dashboard</field>
        </record>

        <record id="action_army_data_source" model="ir.actions.act_window">
            <field name="name">Nguồn thu thập</field>
            <field name="res_model">data.source</field>
            <field name="view_mode">tree,form</field>
        </record>

        <record id="action_army_collected_data" model="ir.actions.act_window">
            <field name="name">Dữ liệu thu thập</field>
            <field name="res_model">collected.data</field>
            <field name="view_mode">tree,form</field>
        </record>

        <!-- Menu structure -->

        <menuitem id="menu_dashboard"
                  name="Dashboard"
                  parent="menu_military_root"
                  action="action_dashboard"
                  groups="army_results_manager.group_admin,army_results_manager.group_training_commander_assistant,army_results_manager.group_training_commander"
                  sequence="1"/>

        <menuitem id="menu_unit_management"
                  name="Quản lý Đơn vị, Cán bộ"
                  parent="menu_military_root"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer,army_results_manager.group_training_commander,army_results_manager.group_training_commander_assistant"
                  sequence="2"/>

        <!--        Menu camera-->
        <menuitem id="menu_camera_management"
                  name="Quản lý camera"
                  parent="menu_military_root"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer"
                  sequence="3"/>

        <menuitem id="menu_camera_video_root_2"
                  name="Hình ảnh, video"
                  parent="menu_camera_management"
                  action="action_media_library"
                  groups="army_results_manager.group_admin"/>

        <menuitem id="menu_list_camera"
                  name="Danh mục Camera"
                  parent="menu_camera_management"
                  groups="army_results_manager.group_admin"
                  action="action_view_camera_device"/>

        <menuitem id="menu_training_plan"
                  name="Khóa huấn luyện"
                  groups="army_results_manager.group_admin,army_results_manager.group_training_commander_assistant,army_results_manager.group_data_entry_officer,army_results_manager.group_training_commander"
                  parent="menu_military_root"
                  action="action_training_plan_draft"
                  sequence="4"/>

<!--        <menuitem id="menu_training_plan_draft"-->
<!--                  name="Xây dựng Khóa huấn luyện"-->
<!--                  parent="menu_training_plan"-->
<!--                  action="action_training_plan_draft"-->
<!--                  groups="army_results_manager.group_admin,army_results_manager.group_training_commander_assistant,army_results_manager.group_data_entry_officer"-->
<!--                  sequence="1"/>-->

        <!--        -->
        <menuitem id="menu_training_mission"
                  name="Nhiệm vụ huấn luyện"
                  parent="menu_military_root"
                  action="action_training_mission"
                  groups="army_results_manager.group_admin,army_results_manager.group_training_commander_assistant,army_results_manager.group_data_entry_officer"
                  sequence="5"/>

        <menuitem id="menu_training_result"
                  name="Kết quả huấn luyện"
                  parent="menu_military_root"
                  groups="army_results_manager.group_admin,army_results_manager.group_training_commander_assistant,army_results_manager.group_training_student"
                  sequence="6"/>

        <menuitem id="menu_unit_management_units"
                  name="Lực Lượng"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer,army_results_manager.group_training_commander_assistant"
                  parent="menu_unit_management"/>

        <menuitem id="menu_list_of_units"
                  name="Đơn vị"
                  parent="menu_unit_management_units"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer"
                  action="hr_department_kanban_action_inherit"/>

        <menuitem id="menu_commanding_officer"
                  name="Cán bộ chỉ huy"
                  parent="menu_unit_management_units"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer"
                  action="action_commanding_officer"/>

        <menuitem id="menu_training_officer"
                  name="Cán bộ phụ trách huấn luyện"
                  parent="menu_unit_management_units"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer"
                  action="action_training_officer"/>

        <menuitem id="menu_student"
                  name="Học viên"
                  parent="menu_unit_management_units"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer"
                  action="action_student"/>

        <menuitem id="menu_training_course"
                  name="Kế hoạch huấn luyện"
                  parent="menu_military_root"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer,army_results_manager.group_training_commander_assistant,army_results_manager.group_training_commander"
                  sequence="3"/>

        <menuitem id="menu_training_course_list"
                  name="Xây dựng Kế hoạch"
                  parent="menu_training_course"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer"
                  action="action_training_schedule"
                  sequence="1"/>


        <menuitem id="menu_training_course_list_posted"
                  name="Kế hoạch chờ duyệt"
                  parent="menu_training_course"
                  groups="army_results_manager.group_admin,army_results_manager.group_training_commander"
                  action="action_training_schedule_posted"
                  sequence="2"/>


        <menuitem id="menu_training_course_list_approved"
                  name="Kế hoạch đã duyệt"
                  parent="menu_training_course"
                  groups="army_results_manager.group_admin,army_results_manager.group_training_commander,army_results_manager.group_data_entry_officer"
                  action="action_training_schedule_approved"
                  sequence="3"/>

        <menuitem id="menu_training_stage_result"
                  name="Kết quả giai đoạn"
                  parent="menu_training_result"
                  action="action_training_day_comment"
                  groups="army_results_manager.group_admin,army_results_manager.group_training_commander_assistant,army_results_manager.group_training_student"
                  sequence="1"/>

        <menuitem id="menu_training_mission_result"
                  name="Kết quả khóa huấn luyện"
                  parent="menu_training_result"
                  groups="army_results_manager.group_admin,army_results_manager.group_training_commander_assistant,army_results_manager.group_training_student"
                  action="action_training_mission_result"
                  sequence="2"/>

        <menuitem id="menu_setting"
                  name="Cấu hình"
                  parent="menu_military_root"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer"
                  sequence="9"/>

        <menuitem id="menu_training_subject_chung"
                  name="Môn học (Huấn luyện chung)"
                  parent="menu_setting"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer"
                  action="action_training_subject_common"/>

        <menuitem id="menu_training_subject_rieng"
                  name="Môn học (Huấn luyện riêng)"
                  parent="menu_setting"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer"
                  action="action_training_subject_private"/>

        <menuitem id="menu_training_stage"
                  name="Giai đoạn"
                  parent="menu_setting"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer"
                  action="action_training_stage"/>

        <menuitem id="menu_training_category"
                  name="Thành phần tham gia/Cấp phụ trách"
                  parent="menu_setting"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer"
                  action="action_training_category"/>

        <menuitem id="menu_training_location"
                  name="Vị trí huấn luyện"
                  parent="menu_setting"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer"
                  action="action_view_training_location"/>

        <menuitem id="menu_data_collect_root"
                  name="Thu thập dữ liệu"
                  parent="menu_military_root"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer"
                  sequence="6"/>

        <menuitem id="menu_report_root"
                  name="Báo cáo"
                  parent="menu_military_root"
                  action="action_view_report"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer"
                  sequence="7"/>

        <menuitem id="menu_support_contact"
                  name="Trợ giúp"
                  parent="menu_military_root"
                  action="action_view_support_contact"
                  groups="army_results_manager.group_admin,army_results_manager.group_training_student,army_results_manager.group_data_entry_officer,army_results_manager.group_training_commander_assistant,army_results_manager.group_training_commander"
                  sequence="8"/>

        <menuitem id="menu_data_source"
                  name="Nguồn thu thập"
                  parent="menu_data_collect_root"
                  action="action_army_data_source"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer"
                  sequence="1"/>

        <menuitem id="menu_collected_data"
                  name="Dữ liệu thu thập"
                  parent="menu_data_collect_root"
                  action="action_army_collected_data"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer"
                  sequence="2"/>

    </data>
</odoo>
