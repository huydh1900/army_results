<odoo>
    <data noupdate="0">

        <!-- Root Menu -->
        <menuitem id="menu_military_root" name="Quản lý huấn luyện bộ đội"
                  web_icon="army_results_manager,static/src/img/icon.png"/>

        <menuitem id="base.menu_administration"
                  groups="army_results_manager.group_data_entry_officer,base.group_no_one"
                  name="Cài đặt"
                  web_icon="army_results_manager,static/src/img/setting.png"/>

        <record id="base.menu_management" model="ir.ui.menu">
            <field name="groups_id" eval="[(6, 0, [ref('base.group_no_one')])]"/>
        </record>

        <record id="mail.menu_root_discuss" model="ir.ui.menu">
            <field name="groups_id" eval="[(6, 0, [ref('base.group_no_one')])]"/>
        </record>

        <record id="hr.menu_hr_root" model="ir.ui.menu">
            <field name="groups_id" eval="[(6, 0, [ref('base.group_no_one')])]"/>
        </record>

        <record id="base.menu_action_res_company_form" model="ir.ui.menu">
            <field name="groups_id" eval="[(6, 0, [ref('base.group_no_one')])]"/>
        </record>

        <!-- Actions -->
        <record id="action_training_course" model="ir.actions.act_window">
            <field name="name">Khóa huấn luyện</field>
            <field name="res_model">training.course</field>
            <field name="domain">[('state', '=', 'approved')]</field>
            <field name="view_mode">tree,form</field>
        </record>

        <record id="action_training_subject" model="ir.actions.act_window">
            <field name="name">Môn học</field>
            <field name="res_model">training.subject</field>
            <field name="view_mode">tree,form</field>
        </record>

        <record id="action_view_support_contact" model="ir.actions.act_window">
            <field name="name">Trợ giúp trực tuyến</field>
            <field name="res_model">support.contact</field>
            <field name="view_mode">tree,form</field>
        </record>

        <record id="action_training_category" model="ir.actions.act_window">
            <field name="name">Cấp bậc</field>
            <field name="res_model">training.category</field>
            <field name="view_mode">tree,form</field>
        </record>

        <record id="action_training_mission_result" model="ir.actions.act_window">
            <field name="name">Kết quả huấn luyện</field>
            <field name="res_model">training.result</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'group_by': ['training_course_id']}</field>
        </record>

        <record id="action_training_day_comment" model="ir.actions.act_window">
            <field name="name">Kết quả giai đoạn</field>
            <field name="res_model">training.day.comment</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'group_by': ['year', 'mission_name', 'lesson_name', 'day_date', 'student_id']}
            </field>
        </record>

        <record id="action_training_mission" model="ir.actions.act_window">
            <field name="name">Nhiệm vụ huấn luyện</field>
            <field name="res_model">training.mission</field>
            <field name="view_mode">tree,form</field>
        </record>

        <record id="action_commanding_officer" model="ir.actions.act_window">
            <field name="name">Cán bộ chỉ huy</field>
            <field name="res_model">hr.employee</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('role', '=', 'commanding_officer')]</field>
            <field name="context">{'default_role': 'commanding_officer'}</field>
        </record>

        <record id="action_training_officer" model="ir.actions.act_window">
            <field name="name">Cán bộ phụ trách huấn luyện</field>
            <field name="res_model">hr.employee</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('role', '=', 'training_officer')]</field>
            <field name="context">{'default_role': 'training_officer'}</field>
        </record>

        <record id="action_student" model="ir.actions.act_window">
            <field name="name">Học viên</field>
            <field name="res_model">hr.employee</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('role', '=', 'student')]</field>
            <field name="context">{'default_role': 'student'}</field>
        </record>

        <record id="action_open_students_safe" model="ir.actions.server">
            <field name="name">Học viên</field>
            <field name="model_id" ref="hr.model_hr_employee"/>
            <field name="state">code</field>
            <field name="code">action = model.get_action_student()</field>
        </record>

        <record id="action_training_plan_draft" model="ir.actions.act_window">
            <field name="name">Xây dựng kế hoạch</field>
            <field name="res_model">training.plan</field>
            <field name="view_mode">tree,form,gantt,calendar</field>
        </record>

        <record id="action_training_day_posted" model="ir.actions.act_window">
            <field name="name">Kế hoạch chờ duyệt</field>
            <field name="res_model">training.day</field>
            <field name="view_mode">tree,form,gantt</field>
            <field name="domain">[('state', 'in', ['posted', 'to_modify'])]</field>
            <field name="context">{'default_action': 'draft', 'group_by': ['year', 'month_name', 'week_name',
                'weekday']}}
            </field>
        </record>

        <record id="action_training_day_approved" model="ir.actions.act_window">
            <field name="name">Kế hoạch đã duyệt</field>
            <field name="res_model">training.day</field>
            <field name="view_mode">tree,form,gantt</field>
            <field name="domain">[('state', 'in', ['approved'])]</field>
            <field name="context">{'default_action': 'approved', 'group_by': ['year', 'month_name', 'week_name',
                'weekday']}}}
            </field>
        </record>


        <record id="action_view_camera_device" model="ir.actions.act_window">
            <field name="name">Danh mục camera</field>
            <field name="res_model">camera.device</field>
            <field name="view_mode">tree,form</field>
        </record>

        <record id="action_view_training_location" model="ir.actions.act_window">
            <field name="name">Vị trí huấn luyện</field>
            <field name="res_model">training.location</field>
            <field name="view_mode">tree,form</field>
        </record>

        <record id="action_view_report" model="ir.actions.act_window">
            <field name="name">Báo cáo</field>
            <field name="res_model">training.day</field>
            <field name="view_mode">tree,form,gantt</field>
            <field name="view_id" ref="view_training_day_tree_report"/>
            <field name="context">{'default_action': 'report', 'group_by': ['year', 'month_name', 'week_name',
                'weekday',
                'plan_name', 'mission_name', 'lesson_name']}
            </field>
        </record>

        <record id="hr_department_kanban_action_inherit" model="ir.actions.act_window">
            <field name="name">Đơn vị</field>
            <field name="res_model">hr.department</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="hr.view_department_filter"/>
        </record>

        <record id="action_training_plan_tree" model="ir.actions.act_window">
            <field name="name">Kế hoạch huấn luyện</field>
            <field name="res_model">training.plan</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_training_plan_tree"/>
        </record>

        <record id="action_dashboard" model="ir.actions.client">
            <field name="name">Dashboard</field>
            <field name="tag">army_dashboard</field>
        </record>

        <record id="action_army_data_source" model="ir.actions.act_window">
            <field name="name">Nguồn thu thập</field>
            <field name="res_model">data.source</field>
            <field name="view_mode">tree,form</field>
        </record>

        <record id="action_army_collected_data" model="ir.actions.act_window">
            <field name="name">Dữ liệu thu thập</field>
            <field name="res_model">collected.data</field>
            <field name="view_mode">tree,form</field>
        </record>

        <!-- Menu structure -->

        <menuitem id="menu_dashboard"
                  name="Dashboard"
                  parent="menu_military_root"
                  action="action_dashboard"
                  groups="army_results_manager.group_admin,army_results_manager.group_training_commander_assistant"
                  sequence="1"/>

        <menuitem id="menu_unit_management"
                  name="Quản lý Lực Lượng và Huấn luyện"
                  parent="menu_military_root"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer,army_results_manager.group_training_commander"
                  sequence="2"/>

        <!--        Menu camera-->
        <menuitem id="menu_camera_management"
                  name="Quản lý camera"
                  parent="menu_military_root"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer"
                  sequence="3"/>

        <menuitem id="menu_list_camera"
                  name="Danh mục Camera"
                  parent="menu_camera_management"
                  groups="army_results_manager.group_admin"
                  action="action_view_camera_device"/>

        <menuitem id="menu_config_camera"
                  name="Cấu hình Camera"
                  parent="menu_camera_management"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer,army_results_manager.group_training_commander_assistant"
                  action="action_view_camera_device"/>

        <menuitem id="menu_training_plan"
                  name="Kế hoạch huấn luyện"
                  groups="army_results_manager.group_admin,army_results_manager.group_training_commander_assistant,army_results_manager.group_data_entry_officer,army_results_manager.group_training_commander"
                  parent="menu_military_root"
                  sequence="4"/>

            <menuitem id="menu_training_plan_draft"
                      name="Xây dựng kế hoạch"
                      parent="menu_training_plan"
                      action="action_training_plan_draft"
                      groups="army_results_manager.group_admin,army_results_manager.group_training_commander_assistant,army_results_manager.group_data_entry_officer"
                      sequence="1"/>

            <menuitem id="menu_training_plan_approve"
                      name="Phê duyệt kế hoạch"
                      parent="menu_training_plan"
                      groups="army_results_manager.group_admin,army_results_manager.group_training_commander"
                      sequence="2"/>

                <menuitem id="menu_training_plan_posted"
                          name="Kế hoạch chờ duyệt"
                          parent="menu_training_plan_approve"
                          action="action_training_day_posted"
                          groups="army_results_manager.group_admin,army_results_manager.group_training_commander"
                          sequence="1"/>

                <menuitem id="menu_training_plan_approved"
                          name="Kế hoạch đã duyệt"
                          parent="menu_training_plan_approve"
                          action="action_training_day_approved"
                          groups="army_results_manager.group_training_commander,army_results_manager.group_admin"
                          sequence="2"/>

        <!--        -->
        <menuitem id="menu_training_mission"
                  name="Nhiệm vụ huấn luyện"
                  parent="menu_military_root"
                  action="action_training_mission"
                  groups="army_results_manager.group_admin,army_results_manager.group_training_commander_assistant"
                  sequence="5"/>

        <menuitem id="menu_training_result"
                  name="Kết quả huấn luyện"
                  parent="menu_military_root"
                  groups="army_results_manager.group_admin"
                  sequence="6"/>

        <menuitem id="menu_setting"
                  name="Cấu hình"
                  parent="menu_military_root"
                  groups="army_results_manager.group_admin"
                  sequence="7"/>

        <menuitem id="menu_unit_management_units"
                  name="Lực Lượng"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer,army_results_manager.group_training_commander_assistant"
                  parent="menu_unit_management"/>

        <menuitem id="menu_list_of_units"
                  name="Đơn vị"
                  parent="menu_unit_management_units"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer"
                  action="hr_department_kanban_action_inherit"/>

        <menuitem id="menu_commanding_officer"
                  name="Cán bộ chỉ huy"
                  parent="menu_unit_management_units"
                  groups="army_results_manager.group_admin"
                  action="action_commanding_officer"/>

        <menuitem id="menu_training_officer"
                  name="Cán bộ phụ trách huấn luyện"
                  parent="menu_unit_management_units"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer,army_results_manager.group_training_commander"
                  action="action_training_officer"/>

        <menuitem id="menu_student"
                  name="Học viên"
                  parent="menu_unit_management_units"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer,army_results_manager.group_training_commander_assistant"
                  action="action_open_students_safe"/>

        <menuitem id="menu_training_course"
                  name="Khóa huấn luyện"
                  parent="menu_unit_management"
                  groups="army_results_manager.group_admin,army_results_manager.group_data_entry_officer,army_results_manager.group_training_commander"
                  action="action_training_course"/>

        <menuitem id="menu_training_stage_result"
                  name="Kết quả giai đoạn"
                  parent="menu_training_result"
                  action="action_training_day_comment"
                  groups="army_results_manager.group_admin"
                  sequence="1"/>

        <menuitem id="menu_training_mission_result"
                  name="Kết quả khóa huấn luyện"
                  parent="menu_training_result"
                  groups="army_results_manager.group_admin"
                  action="action_training_mission_result"
                  sequence="2"/>

        <menuitem id="menu_training_subject"
                  name="Môn học"
                  parent="menu_setting"
                  groups="army_results_manager.group_admin"
                  action="action_training_subject"/>

        <menuitem id="menu_training_category"
                  name="Cấp bậc"
                  parent="menu_setting"
                  groups="army_results_manager.group_admin"
                  action="action_training_category"/>

        <menuitem id="menu_training_location"
                  name="Vị trí huấn luyện"
                  parent="menu_setting"
                  groups="army_results_manager.group_admin"
                  action="action_view_training_location"/>

        <menuitem id="menu_data_collect_root"
                  name="Thu thập dữ liệu"
                  parent="menu_military_root"
                  groups="army_results_manager.group_admin"
                  sequence="6"/>

        <menuitem id="menu_report_root"
                  name="Báo cáo"
                  parent="menu_military_root"
                  action="action_view_report"
                  groups="army_results_manager.group_admin"
                  sequence="7"/>

        <menuitem id="menu_support_contact"
                  name="Trợ giúp"
                  parent="menu_military_root"
                  action="action_view_support_contact"
                  groups="army_results_manager.group_admin,army_results_manager.group_training_commander_assistant"
                  sequence="8"/>

        <menuitem id="menu_data_source"
                  name="Nguồn thu thập"
                  parent="menu_data_collect_root"
                  action="action_army_data_source"
                  groups="army_results_manager.group_admin"
                  sequence="1"/>

        <menuitem id="menu_collected_data"
                  name="Dữ liệu thu thập"
                  parent="menu_data_collect_root"
                  action="action_army_collected_data"
                  groups="army_results_manager.group_admin"
                  sequence="2"/>

    </data>
</odoo>
