<odoo>

    <record model="ir.module.category" id="module_role">
        <field name="name">Nhóm người dùng</field>
        <field name="sequence">1</field>
        <field name="description">Visible</field>
    </record>

    <!-- Nhóm Học viên -->
    <record id="group_training_student" model="res.groups">
        <field name="name">Học viên</field>
        <field name="category_id" ref="army_results_manager.module_role"/>
    </record>

    <!-- Nhóm CB phụ trách huấn luyện -->
    <record id="group_training_commander_assistant" model="res.groups">
        <field name="name">CB Phụ trách huấn luyện</field>
        <field name="category_id" ref="army_results_manager.module_role"/>
    </record>

    <!-- Nhóm CB Nhập liệu -->
    <record id="group_data_entry_officer" model="res.groups">
        <field name="name">CB Quản trị (Phòng đào tạo)</field>
        <field name="category_id" ref="army_results_manager.module_role"/>
    </record>

    <!-- Nhóm CB Chỉ huy -->
    <record id="group_training_commander" model="res.groups">
        <field name="name">CB Chỉ huy</field>
        <field name="category_id" ref="army_results_manager.module_role"/>
    </record>

    <record id="group_admin" model="res.groups">
        <field name="name">Admin</field>
        <field name="implied_ids" eval="[(4, ref('base.group_system'))]"/>
        <field name="category_id" ref="army_results_manager.module_role"/>
    </record>

    <!--     Rule cho Học viên: chỉ xem kết quả của chính mình-->
    <record id="training_result_rule_student" model="ir.rule">
        <field name="name">Training Result: Student can only see own</field>
        <field name="model_id" ref="army_results_manager.model_training_result"/>
        <field name="groups" eval="[(4, ref('army_results_manager.group_training_student'))]"/>
        <field name="domain_force">[('employee_id.user_id', '=', user.id)]</field>
        <field name="perm_read">1</field>
        <field name="perm_write">0</field>
        <field name="perm_create">0</field>
        <field name="perm_unlink">0</field>
    </record>

    <!--    Học viên chỉ được xem kết quả giai đoạn của chính mình-->
    <record id="training_day_comment_rule_student" model="ir.rule">
        <field name="name">Training Day Comment: Student can only see own</field>
        <field name="model_id" ref="army_results_manager.model_training_day_comment"/>
        <field name="groups" eval="[(4, ref('army_results_manager.group_training_student'))]"/>
        <field name="domain_force">[('student_id.user_id', '=', user.id)]</field>
        <field name="perm_read">1</field>
        <field name="perm_write">0</field>
        <field name="perm_create">0</field>
        <field name="perm_unlink">0</field>
    </record>

    <record id="training_day_comment_rule_cbhl" model="ir.rule">
        <field name="name">CBHL: Xem all</field>
        <field name="model_id" ref="army_results_manager.model_training_day_comment"/>
        <field name="groups"
               eval="[(4, ref('army_results_manager.group_admin'))]"/>
        <field name="domain_force">[(1, '=', 1)]</field>
    </record>

    <record id="training_result_rule_admin" model="ir.rule">
        <field name="name">Admin: Xem all</field>
        <field name="model_id" ref="army_results_manager.model_training_result"/>
        <field name="groups" eval="[(4, ref('army_results_manager.group_admin'))]"/>
        <field name="domain_force">[(1, '=', 1)]</field>
    </record>

</odoo>
